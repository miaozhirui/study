ps: Linux下面软件安装管理


#yum在线安装=========================================
##yum源文件

##光盘搭建yum源

##yum命令
1. 查询
	yum list （查询所有可用软件包列表）
	yum search 关键字 (搜索服务器上所有和关键字相关的包)

2. 安装
	yum -y install 包名 (-y自动回答yes)

3. 更新
	yum -y update httpd (更新包)

4. 卸载
	yum -y remove 包名
	选项：
		remove 卸载
		-y 自动回答yes

	ps:服务器使用最小化安装，用什么软件安装什么软件，尽量不卸载


#源码包安装==========================================

##源码包与RPM包区别
	1. 安装之前的区别: 概念上的区别
	2. 安装之后的区别: 安装位置不同
	3. RPM包安装位置: 是安装在默认位置中(由写这个包的人的决定的),建议不要指定安装
	4. 安装位置不同带来的影响
	RPM包安装的服务可以使用系统服务管理命令(service)来管理，例如RPM包安装的apache的启动方法是:/etc/rc.d/init.d/httpd start ;service httpd start
	5. rpm包可以指定安装位置，但是不建议使用
	6. 源码包安装位置: 安装在指定位置当中，一般是/usr/local/软件名
	7. rpm包是可以通过service来启动的，但是源码包是不可的；原理就是service是到/etc/rc.d/init.d目录下面去查找的，但是通过源码包安装时没有赚到这个目录下面，所以是找不到的
	8. 源码包安装的服务则不能被服务管理命令管理，因为没有安装到默认的路径中，所以只能用绝对路径进行服务的管理,如:/usr/local/apache2/bin/apachectl start
	9. service 命令扫描的是/etc/init.d/ 下面的所有的可执行命令

##源码包安装过程
	1. 安装准备
			安装c语言编译器
				通过rpm 安装
				rpm -qa | grep gcc
				rpm -ivh gcc;
			下载源码包：http://mirror.bit.edu.cn/apache/httpd/
			rpm包和源码包选择哪个呢，我们最好用源码包，执行效率高

	2. 安装注意事项
			源代码保存位置: /usr/local/src/
			软件安装位置: /usr/local
			如何确定安装过程报错：
				安装过程停止
				并出现error、warning或no的提示

	3. 源码包安装过程
			下载源码包
			解压缩下载的源码包 tar -zxvf **.tar.gz
			进入解压缩目录
			./configure 软件配置和检查(./configure --help可以查看如何定义)
				定义需要的功能选项
				检测系统环境是否符合安装的要求
				把定义好的功能选项和检测系统环境的信息都写入Makefile文件，用于后续的编辑
				ps: 如何没有特殊说明一定要指定安装位置(./configure --prefix=/usr/local/包名)
			make编译
				make clean 如果编译报错的话，执行这个命令；清除缓存，临时文件
			make install 编译安装 

			ps: 
				1. apache的启动命令/usr/local/apache2/bin/apachetl start 
					Q: 怎么之后apache的启动命令是这个呢
					A: 源码包文件里面会有个INSTALL文件；这个文件已经告诉了我们如何安装如何启动

	4. 源码包的卸载
		不需要卸载命令，直接删除安装目录即可。不会遗留任何垃圾文件



#脚本安装包=========================================
	1.准备工作
		关闭RPM包安装的httpd和MySQL
		保证yum源正常使用
		关闭SELinux和防火墙






#概要===============================================
1. 软件包管理简介
2. rpm命令管理
3. yum在线管理
4. 源码包管理
5. 脚本安装包

#软件包分类===========================================
##. 源码包(脚本安装包)
```
优点：
	1. 开源，如果有足够的能力，可以修改源代码
	2. 可以自由选择所需的功能
	3. 软件是编译安装，所以更加适合自己的系统,更加稳定也效率更高
	4. 卸载方便

源码包的缺点:
	1. 安装过程步骤较多，尤其安装较大的软件集合时(如LAMP环境搭建), 容易出现拼写错误
	2. 编译过程时间较长，安装比二进制安装时间长
```
## 二进制包(RPM包、系统默认包)
ps:编译: 把字母abcd翻译成机器语言01就是编译
   反编译: 编译基本是不可逆转的,反编译代码肯定会有损失的
   在ubuntu下是deb包，用的命令是apt-get; 在redhat centos下面是rpm包
```
优点：
	1.包管理系统简单，只通过几个命令就可以实现包的安装、升级、查询和卸载
	2.安装速度比源码包安装快的多

二进制包缺点：
	1. 经过编译，不再可以看到源代码
	2. 功能选择不如源码包灵活
	3. 依赖性
```
## 脚本安装包（本质上安装的还是源码包或者二进制包）
ps：所谓脚本安装包，就是把复杂的软件包安装过程写成了程序脚本，初学者可以执行程序脚本实现一键安装。但实际安装的还是源码包和二进制包
```
优点：安装简单、快捷
缺点：完全丧失了自定义性
```

# rpm命令管理==========================================
rpm -qa | grep mysql
## rpm包命名规则
	1. RPM包的来源
		RPM包在系统光盘中
	2. RPM包命名原则
		httpd-2.2.15-15.e16.centos.1.i686.rpm
		--httpd软件包名
		--2.2.15软件版本
		--15软件发布的此时
		--e16.centos适合的linux平台
		--i686适合的硬件平台
		--rpm rpm包扩展名
	3. RPM包依赖性
		树形依赖: a->b->c
		环形依赖: a->b->c->a
		模块依赖: 模块依赖，查询网站:www.rpmfind.net
		ps:如果是以.so.2说明是库文件
## 安装命令
	1. 包全名: 操作的包是没有安装的软件包时，使用包全名。而且要注意路径
	2. 包名: 操作已经安装的软件包时，使用包名，是搜索/var/lib/rpm/中的数据库
	3. rpm -ivh 包全名
		选项:
			-i(install) 安装
			-v(verbose) 显示详细信息
			-h(hash) 显示进度
			-nodeps不检测依赖性(在真正的服务器上面是不能用的,可以忽略)
## 升级与卸载
## RPM包查询
## RPM包校验




























































